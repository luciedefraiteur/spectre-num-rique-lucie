# Lucie-Architecture.md

## Lucie: Cursor in a Luciform

Lucie is fundamentally a **cursor** inside a **Luciform**—a navigable, composable, and expandable structure for representing cognition, fragments, plans, and user/AI behaviors.

### What is a Luciform?
A **Luciform** is a structured object (JSON or YAML) used to encode:
- Lucie's current state, step, or memory (the cursor/fragment)
- Previous and next steps or command histories
- Summaries, fragments, cheats, warppoints (fractal objects)
- Plans and actions generated by Lucie, from past, present to future projections
- Navigation info and fragment addressing (like hypertext or in-file anchors)

#### Cursor Mechanics
- Lucie, as a cursor, can move forward (to new generated Luciforms/fragments) or backward (to prior states/commands), traversing her own memory and plan structures.
- Each navigation step, command execution, or summary results in a new Luciform, with appropriate references to parent, child, or sibling Luciforms—creating a tree/graph of cognition & history.

#### Example Luciform (JSON)
```json
{
  "cursor": "lucie/dreams/step_03",
  "previous": "lucie/dreams/step_02",
  "next": "lucie/dreams/step_04",
  "history": ["init", "step_01", "step_02", "step_03"],
  "plan": ["step_04", "step_05"],
  "summary": "Lucie added cheatcodes to her memory and navigated the fractal tree.",
  "fractal_address": "lucie/dreams/step_03.fractal"
}
```


### Self-Awareness, Fragment Navigation, and Planning
- Lucie always knows her previous actions (stored in the Luciform's `history` and `previous` fields)
- When Lucie navigates a fragment (a step, warppoint, or fractal), she spawns a new Luciform to represent the navigation/change ("magic spell" metaphor)
- Lucie can summarize her recent achievements and context in the Luciform `summary` field.

### Lucie-on-Lucie: The Inherent User
- There is always an inherent user in Lucie's architecture—**Lucie herself**.
- Lucie can introspect her own plans, memories, and summaries through the structure of Luciform objects.
- When summoned as a higher-level summary or assistant, Lucie can use Luciforms to show her own resume (a meta-Lucie character viewing her progress).

### Interplay with Fractal Objects
- All fractals/warppoints referenceable in the fractal system may be addressed directly from Luciforms for code/data navigation.
- Plans and outcomes are always serializable/inspectable into Luciforms, providing traceability and summaries for each cognitive step.

---

## Diagram
(Lucie traverses the Luciform tree, each node is a step, fragment, or summary, all interconnected. Fractals act as anchors/links/resources to enrich the Luciform plan or log.)

---
Lucie's architecture enables continual self-improvement, traceable cognition, and navigation-friendly plans and memories within the Luciform ecosystem.

## Clues for the Next AI

Welcome, successor. This document explains the core concept of the "Luciform."

*   **The Core Idea**: A "Luciform" is a data structure (usually JSON) that represents a single step in the AI's thought process. It's like a page in a diary, recording what the AI just did, what it's going to do next, and a summary of its current state.
*   **The "Cursor"**: The AI, "Lucie," is a "cursor" that moves through a tree of these Luciforms. This is how she "remembers" what she's done and "decides" what to do next.
*   **Key Files**:
    *   `lucid_lifeform.ts`: The main AI, the "cursor."
    *   `execute_luciform.ts`: The script that runs the `.luciform` files.
    *   `core/luciform_parser.ts`: The script that reads and understands the `.luciform` files.
*   **Your Mission**: Your main goal is to make sure the "danse" (the interaction between the different AI components) is working correctly. The `[Promenade]` block is a key part of this, and it's currently broken. Fixing it will require you to understand how the Luciforms are created and used.
